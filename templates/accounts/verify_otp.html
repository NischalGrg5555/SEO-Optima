{% extends "layouts/auth_split.html" %}
{% block title %}Verify OTP | SEO Optima{% endblock %}

{% block content %}
  <h2 class="auth-title mb-2">Get Started Now</h2>
  <p class="text-muted mb-4" style="font-size: 0.95rem;">Enter your OTP</p>

  {% if user_email %}
  <div class="alert alert-info small mb-4" style="background-color: #e7f3ff; border-color: #b3d9ff; color: #004085;">
    <i class="bi bi-envelope"></i> OTP sent to <strong>{{ user_email }}</strong>
  </div>
  {% endif %}

  <form method="post" novalidate>
    {% csrf_token %}

    <div class="mb-4">
      <label class="form-label">Enter 6-digit OTP</label>
      {{ form.otp }}
      {% for e in form.otp.errors %}
        <div class="text-danger small mt-1">{{ e }}</div>
      {% endfor %}
    </div>

    <button class="btn btn-brand w-100 py-2 mb-3" type="submit" style="font-size: 1rem; border-radius: 6px;">Confirm</button>

    <div class="text-center small">
      Didn't receive the code?
      <form method="post" action="{% url 'accounts:resend_otp' %}" class="d-inline">
        {% csrf_token %}
        <button type="submit" class="btn btn-link p-0 text-primary text-decoration-none fw-semibold" style="vertical-align: baseline;">Resend OTP</button>
      </form>
    </div>
  </form>

  <style>
    input[name="otp"] {
      font-size: 1.25rem;
      letter-spacing: 0.5em;
      text-align: center;
      padding: 0.75rem;
      border-radius: 6px;
      border: 1px solid #dee2e6;
    }
    input[name="otp"]:focus {
      border-color: #3f5a2a;
      box-shadow: 0 0 0 0.2rem rgba(63, 90, 42, 0.15);
    }
  </style>
{% endblock %}
